## 第二章 传输层 TCP、UDP

### UDP

- 定义：是一种简单的、不可靠的用户数据包协议(User Datagram Protocol)
- 特性：是一种`无连接`的协议，不能保证数据报最终是否达到用户


### TCP

- 定义：是一种复杂的、可靠的字节流协议，也叫传输控制协议(Tranmission Control Protocol)
- 特性：面向`连接`的协议，关注可靠性、流量控制等特性，具体如下：
    * 连接：数据双方在连接的基础上进行通信交互
    * 可靠性： 发送数据后，要求对端返回一个确认，否则在一定次数范围内进行重传；发送的分节都会关联一个序号，通过序号保证最终给到应用的数据有序。
    * 流量控制：总是告知对端在任意时刻能够接受多少字节的数据，称之为`通告窗口`，实时变化。
    * 全双工：任意时刻数据双向流动
- 建立连接(三次握手)
    * Q：为什么不用四次握手？
    * A：第二次的ack和syn可以合并，效率更高
    * Q：为什么不用二次握手？
    * A：syn用于同步客户端和服务的发送起始序号，若只有两次握手，则至多只有一方的发送起始序号被同步
    * Q：三次握手的过程中交互了哪些信息？
    * A：通告对方最大分节的大小（MMS）、通告窗口规模大小、时间戳选项（避免失而复现的分节造成数据损坏）
```
    // 三次握手
    client  --->  server    (SYN=1 seq=x)
    client  <---  server    (ACK=1 SYN=1 seq=y ack=x+1) 服务端确认可以像我发送序列x+1的序号了，同时告诉你我的序号是y
    client  --->  server    (ACK=1 req=x+1 ack=y+1) 客户端确认可以像我发送y+1的数据了
    
    // 发送数据
    client  --->  server    (req=x+1) 这里之所以还是x+1 是因为上一个回复的ack不携带数据 不用消耗请求序号     
```
- 关闭连接（四次挥手）

##第五章 TCP客户端与服务端实例

### 僵尸进程

### 孤儿进程

## 第六章 I/O复用

### I/O模型

- 阻塞式I/O
- 非阻塞式I/O
- I/O复用
- 信号驱动式I/O
- 异步I/O

    
    

